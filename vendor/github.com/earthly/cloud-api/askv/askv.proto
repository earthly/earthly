syntax = "proto3";
package api.public.askv;
option go_package = "./askv";

import "google/api/annotations.proto";
import "google/protobuf/timestamp.proto";
import "google/protobuf/duration.proto";

service Askv {
  rpc Exists(ExistsRequest) returns (ExistsResponse) {}
  rpc Add(AddRequest) returns (AddResponse) {}
  rpc PrunePipeline(PrunePipelineRequest) returns (PrunePipelineResponse) {}
  rpc PruneProject(PruneProjectRequest) returns (PruneProjectResponse) {}
  rpc PruneOrg(PruneOrgRequest) returns (PruneOrgResponse) {}
}

message ExistsRequest {
  string org_name = 1;
  string project_name = 2;
  string pipeline_name = 3;
  bytes hash = 4;
}

message ExistsResponse {
  bool exists = 1;
}

message AddRequest {
  string org_name = 1;
  string project_name = 2;
  string pipeline_name = 3;
  bytes hash = 4;
}

message AddResponse {
}

message PrunePipelineRequest {
  string org_name = 1;
  string project_name = 2;
  string pipeline_name = 3;
}

message PrunePipelineResponse {
}

message PruneProjectRequest {
  string org_name = 1;
  string project_name = 2;
}

message PruneProjectResponse {
}

message PruneOrgRequest {
  string org_name = 1;
}

message PruneOrgResponse {
}
