FROM alpine:3.13
builtin-args-test:
    ARG EARTHLY_TARGET
    ARG EARTHLY_TARGET_PROJECT
    ARG EARTHLY_TARGET_NAME
    ARG EARTHLY_TARGET_TAG
    ARG EARTHLY_SOURCE_DATE_EPOCH
    ARG EARTHLY_GIT_COMMIT_TIMESTAMP
    RUN echo "$EARTHLY_TARGET"
    RUN echo "$EARTHLY_TARGET_PROJECT"
    RUN echo "$EARTHLY_TARGET_NAME"
    RUN echo "$EARTHLY_TARGET_TAG"
    RUN test "$EARTHLY_TARGET" == "+builtin-args-test"
    RUN test -z "$EARTHLY_TARGET_PROJECT"
    RUN test "$EARTHLY_TARGET_NAME" == "builtin-args-test"
    RUN test -z "$EARTHLY_TARGET_TAG"
    RUN test "$EARTHLY_SOURCE_DATE_EPOCH" = "0"
    RUN test -z "$EARTHLY_GIT_COMMIT_TIMESTAMP"
